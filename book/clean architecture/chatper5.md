# 使用案例實作

## 領域模型實作
每次存錢跟領錢都有紀錄活動，每次領錢都會透過計算活動檢查是否有足夠餘額。

## 使用案例長話短說
一般API入口Use Case 還有驗證權限這一環節，另外我不認為Use Case要搞成Interface，因為我若寫測試也是為了驗正Domain邏輯而非介面。

## 輸入驗證
這篇在講值的Null跟正負驗證，但是像是該user有沒有對該id物件的控制權，是否真的有該id的資料，就是其他的驗證了，輸入值的驗證 / 權限的驗證 / 資料的驗證，要分清楚。

## 利用建構子的好處
如果你的工作會被打斷，個人建議最好當下寫上TODO或FIXME。另外書上寫的利用錯誤除錯法，我個人覺得錯誤除錯法好像跟OCP不互相影響的精神起衝突，不過已好開發的角度我是支持的。

不過我無法接受的是這篇把Construct缺點用IDE可以彌補來帶過，那是不是當IDE可以彌補其他缺點時，其他缺點就不是缺點了?

## 業務規則驗證
我對於requestAccountExists這個做法有疑問，因為一定有其他的Usecase要使用Account，可以把在Find Function上直接對沒有結果throw exception就好。

## 充血領域模型與貧血領域模型
唯一支持貧血領域模型，pojo就做pojo的事就好。

## 不同的使用案例、不同的輸出模型
若要讓一個Use Case絕對Clean，這理論是對的。但是真的要做到絕對Clean，代表Input Dto、Output Dto跟Map Struct就會大量產生，用效能跟記憶體角度反而覺得有些脫褲子放屁，除非是為了API Response最小化省網路! 且共用Pojo真會很難維護嗎?

## 唯獨使用案例的文提
覺得為了絕對乾淨 / 需求在未來有可能要變更也有可能不變更 而多包一層沒意義